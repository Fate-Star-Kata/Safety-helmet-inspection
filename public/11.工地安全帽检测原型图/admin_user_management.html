<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>用户管理 - 工地安全帽检测系统</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- 导航栏 -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <i class="fas fa-hard-hat"></i>
                <span>工地安全帽检测系统 - 管理端</span>
            </div>
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="admin_index.html" class="nav-link">
                        <i class="fas fa-home"></i> 首页
                    </a>
                </li>
                <li class="nav-item">
                    <a href="admin_user_management.html" class="nav-link active">
                        <i class="fas fa-users"></i> 用户管理
                    </a>
                </li>
                <li class="nav-item">
                    <a href="admin_warning_management.html" class="nav-link">
                        <i class="fas fa-exclamation-triangle"></i> 警告管理
                    </a>
                </li>
                <li class="nav-item">
                    <a href="user_index.html" class="nav-link">
                        <i class="fas fa-eye"></i> 用户端
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link" onclick="logout()">
                        <i class="fas fa-sign-out-alt"></i> 退出
                    </a>
                </li>
            </ul>
        </div>
    </nav>

    <!-- 主要内容 -->
    <main class="main-content">
        <div class="container">
            <!-- 页面标题 -->
            <div class="page-header">
                <h1><i class="fas fa-users"></i> 用户管理</h1>
                <p>管理系统用户账户、权限和角色设置</p>
            </div>

            <!-- 操作工具栏 -->
            <div class="toolbar">
                <div class="toolbar-left">
                    <button class="btn btn-primary" onclick="openAddUserModal()">
                        <i class="fas fa-plus"></i> 添加用户
                    </button>
                    <button class="btn btn-outline" onclick="exportUsers()">
                        <i class="fas fa-download"></i> 导出用户
                    </button>
                    <button class="btn btn-outline" onclick="importUsers()">
                        <i class="fas fa-upload"></i> 批量导入
                    </button>
                </div>
                <div class="toolbar-right">
                    <div class="search-box">
                        <input type="text" id="searchInput" placeholder="搜索用户姓名、邮箱或部门..." onkeyup="searchUsers()">
                        <i class="fas fa-search"></i>
                    </div>
                    <select id="roleFilter" onchange="filterByRole()">
                        <option value="">所有角色</option>
                        <option value="admin">管理员</option>
                        <option value="engineer">工程师</option>
                        <option value="supervisor">监督员</option>
                        <option value="worker">工人</option>
                    </select>
                    <select id="statusFilter" onchange="filterByStatus()">
                        <option value="">所有状态</option>
                        <option value="active">活跃</option>
                        <option value="inactive">非活跃</option>
                        <option value="suspended">已停用</option>
                    </select>
                </div>
            </div>

            <!-- 用户统计 -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <div class="stat-content">
                        <h3 id="totalUsers">45</h3>
                        <p>总用户数</p>
                        <small class="stat-change positive">+5 本周新增</small>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-user-check"></i>
                    </div>
                    <div class="stat-content">
                        <h3 id="activeUsers">38</h3>
                        <p>活跃用户</p>
                        <small class="stat-change positive">84% 活跃率</small>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-user-shield"></i>
                    </div>
                    <div class="stat-content">
                        <h3 id="adminUsers">3</h3>
                        <p>管理员</p>
                        <small class="stat-change neutral">权限用户</small>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-user-clock"></i>
                    </div>
                    <div class="stat-content">
                        <h3 id="newUsers">7</h3>
                        <p>本月新增</p>
                        <small class="stat-change positive">+40% 增长</small>
                    </div>
                </div>
            </div>

            <!-- 用户列表 -->
            <div class="section">
                <div class="section-header">
                    <h2><i class="fas fa-list"></i> 用户列表</h2>
                    <div class="batch-actions">
                        <input type="checkbox" id="selectAll" onchange="toggleSelectAll()">
                        <label for="selectAll">全选</label>
                        <button class="btn btn-sm btn-outline" onclick="batchActivate()" disabled id="batchActivateBtn">
                            <i class="fas fa-check"></i> 批量激活
                        </button>
                        <button class="btn btn-sm btn-outline" onclick="batchSuspend()" disabled id="batchSuspendBtn">
                            <i class="fas fa-ban"></i> 批量停用
                        </button>
                        <button class="btn btn-sm btn-danger" onclick="batchDelete()" disabled id="batchDeleteBtn">
                            <i class="fas fa-trash"></i> 批量删除
                        </button>
                    </div>
                </div>
                
                <div class="table-container">
                    <table class="data-table" id="usersTable">
                        <thead>
                            <tr>
                                <th width="40"><input type="checkbox" id="headerCheckbox" onchange="toggleSelectAll()"></th>
                                <th>头像</th>
                                <th>姓名</th>
                                <th>邮箱</th>
                                <th>角色</th>
                                <th>部门</th>
                                <th>状态</th>
                                <th>最后登录</th>
                                <th>注册时间</th>
                                <th width="150">操作</th>
                            </tr>
                        </thead>
                        <tbody id="usersTableBody">
                            <!-- 用户数据将通过JavaScript动态加载 -->
                        </tbody>
                    </table>
                </div>

                <!-- 分页 -->
                <div class="pagination">
                    <button class="btn btn-sm" onclick="previousPage()" id="prevBtn">
                        <i class="fas fa-chevron-left"></i> 上一页
                    </button>
                    <div class="page-info">
                        <span>第 <span id="currentPage">1</span> 页，共 <span id="totalPages">5</span> 页</span>
                        <select id="pageSizeSelect" onchange="changePageSize()">
                            <option value="10">10条/页</option>
                            <option value="20" selected>20条/页</option>
                            <option value="50">50条/页</option>
                        </select>
                    </div>
                    <button class="btn btn-sm" onclick="nextPage()" id="nextBtn">
                        下一页 <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
            </div>
        </div>
    </main>

    <!-- 添加/编辑用户模态框 -->
    <div id="userModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalTitle">添加用户</h3>
                <span class="close" onclick="closeUserModal()">&times;</span>
            </div>
            <div class="modal-body">
                <form id="userForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="userName">姓名 *</label>
                            <input type="text" id="userName" name="userName" required>
                        </div>
                        <div class="form-group">
                            <label for="userEmail">邮箱 *</label>
                            <input type="email" id="userEmail" name="userEmail" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="userPhone">电话</label>
                            <input type="tel" id="userPhone" name="userPhone">
                        </div>
                        <div class="form-group">
                            <label for="userDepartment">部门</label>
                            <select id="userDepartment" name="userDepartment">
                                <option value="">请选择部门</option>
                                <option value="engineering">工程部</option>
                                <option value="safety">安全部</option>
                                <option value="management">管理部</option>
                                <option value="construction">施工部</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="userRole">角色 *</label>
                            <select id="userRole" name="userRole" required>
                                <option value="">请选择角色</option>
                                <option value="admin">管理员</option>
                                <option value="engineer">工程师</option>
                                <option value="supervisor">监督员</option>
                                <option value="worker">工人</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="userStatus">状态</label>
                            <select id="userStatus" name="userStatus">
                                <option value="active">活跃</option>
                                <option value="inactive">非活跃</option>
                                <option value="suspended">已停用</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="userPassword">密码 *</label>
                        <input type="password" id="userPassword" name="userPassword" required>
                        <small>密码至少8位，包含字母和数字</small>
                    </div>
                    <div class="form-group">
                        <label for="userNotes">备注</label>
                        <textarea id="userNotes" name="userNotes" rows="3" placeholder="用户备注信息..."></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-outline" onclick="closeUserModal()">取消</button>
                <button type="button" class="btn btn-primary" onclick="saveUser()">保存</button>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script>
        // 模拟用户数据
        let users = [
            {
                id: 1,
                name: '张三',
                email: 'zhangsan@example.com',
                phone: '13800138001',
                role: 'admin',
                department: 'management',
                status: 'active',
                lastLogin: '2024-01-15 14:30',
                registerTime: '2023-12-01 09:00',
                avatar: 'https://via.placeholder.com/40x40/4CAF50/white?text=张'
            },
            {
                id: 2,
                name: '李四',
                email: 'lisi@example.com',
                phone: '13800138002',
                role: 'engineer',
                department: 'engineering',
                status: 'active',
                lastLogin: '2024-01-15 13:45',
                registerTime: '2023-12-05 10:30',
                avatar: 'https://via.placeholder.com/40x40/2196F3/white?text=李'
            },
            {
                id: 3,
                name: '王五',
                email: 'wangwu@example.com',
                phone: '13800138003',
                role: 'supervisor',
                department: 'safety',
                status: 'active',
                lastLogin: '2024-01-15 12:20',
                registerTime: '2023-12-10 14:15',
                avatar: 'https://via.placeholder.com/40x40/FF9800/white?text=王'
            },
            {
                id: 4,
                name: '赵六',
                email: 'zhaoliu@example.com',
                phone: '13800138004',
                role: 'worker',
                department: 'construction',
                status: 'inactive',
                lastLogin: '2024-01-10 16:30',
                registerTime: '2023-12-15 11:45',
                avatar: 'https://via.placeholder.com/40x40/9C27B0/white?text=赵'
            },
            {
                id: 5,
                name: '孙七',
                email: 'sunqi@example.com',
                phone: '13800138005',
                role: 'engineer',
                department: 'engineering',
                status: 'suspended',
                lastLogin: '2024-01-08 09:15',
                registerTime: '2023-12-20 13:20',
                avatar: 'https://via.placeholder.com/40x40/F44336/white?text=孙'
            }
        ];

        let currentPage = 1;
        let pageSize = 20;
        let filteredUsers = [...users];
        let selectedUsers = new Set();
        let editingUserId = null;

        /**
         * 页面加载完成后初始化
         */
        document.addEventListener('DOMContentLoaded', function() {
            loadUsers();
            updateStats();
        });

        /**
         * 加载用户列表
         */
        function loadUsers() {
            const tbody = document.getElementById('usersTableBody');
            const startIndex = (currentPage - 1) * pageSize;
            const endIndex = startIndex + pageSize;
            const pageUsers = filteredUsers.slice(startIndex, endIndex);

            tbody.innerHTML = '';
            pageUsers.forEach(user => {
                const row = createUserRow(user);
                tbody.appendChild(row);
            });

            updatePagination();
        }

        /**
         * 创建用户行
         */
        function createUserRow(user) {
            const row = document.createElement('tr');
            row.innerHTML = `
                <td><input type="checkbox" value="${user.id}" onchange="toggleUserSelection(${user.id})"></td>
                <td><img src="${user.avatar}" alt="${user.name}" class="user-avatar"></td>
                <td>${user.name}</td>
                <td>${user.email}</td>
                <td><span class="role-badge role-${user.role}">${getRoleText(user.role)}</span></td>
                <td>${getDepartmentText(user.department)}</td>
                <td><span class="status-badge status-${user.status}">${getStatusText(user.status)}</span></td>
                <td>${user.lastLogin}</td>
                <td>${user.registerTime}</td>
                <td>
                    <button class="btn btn-sm btn-outline" onclick="editUser(${user.id})" title="编辑">
                        <i class="fas fa-edit"></i>
                    </button>
                    <button class="btn btn-sm btn-outline" onclick="resetPassword(${user.id})" title="重置密码">
                        <i class="fas fa-key"></i>
                    </button>
                    <button class="btn btn-sm btn-danger" onclick="deleteUser(${user.id})" title="删除">
                        <i class="fas fa-trash"></i>
                    </button>
                </td>
            `;
            return row;
        }

        /**
         * 获取角色文本
         */
        function getRoleText(role) {
            const roleMap = {
                'admin': '管理员',
                'engineer': '工程师',
                'supervisor': '监督员',
                'worker': '工人'
            };
            return roleMap[role] || role;
        }

        /**
         * 获取部门文本
         */
        function getDepartmentText(department) {
            const departmentMap = {
                'management': '管理部',
                'engineering': '工程部',
                'safety': '安全部',
                'construction': '施工部'
            };
            return departmentMap[department] || department;
        }

        /**
         * 获取状态文本
         */
        function getStatusText(status) {
            const statusMap = {
                'active': '活跃',
                'inactive': '非活跃',
                'suspended': '已停用'
            };
            return statusMap[status] || status;
        }

        /**
         * 更新统计信息
         */
        function updateStats() {
            document.getElementById('totalUsers').textContent = users.length;
            document.getElementById('activeUsers').textContent = users.filter(u => u.status === 'active').length;
            document.getElementById('adminUsers').textContent = users.filter(u => u.role === 'admin').length;
            
            const thisMonth = new Date().getMonth();
            const newThisMonth = users.filter(u => new Date(u.registerTime).getMonth() === thisMonth).length;
            document.getElementById('newUsers').textContent = newThisMonth;
        }

        /**
         * 搜索用户
         */
        function searchUsers() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const roleFilter = document.getElementById('roleFilter').value;
            const statusFilter = document.getElementById('statusFilter').value;

            filteredUsers = users.filter(user => {
                const matchesSearch = user.name.toLowerCase().includes(searchTerm) ||
                                    user.email.toLowerCase().includes(searchTerm) ||
                                    getDepartmentText(user.department).toLowerCase().includes(searchTerm);
                const matchesRole = !roleFilter || user.role === roleFilter;
                const matchesStatus = !statusFilter || user.status === statusFilter;
                
                return matchesSearch && matchesRole && matchesStatus;
            });

            currentPage = 1;
            loadUsers();
        }

        /**
         * 按角色筛选
         */
        function filterByRole() {
            searchUsers();
        }

        /**
         * 按状态筛选
         */
        function filterByStatus() {
            searchUsers();
        }

        /**
         * 打开添加用户模态框
         */
        function openAddUserModal() {
            editingUserId = null;
            document.getElementById('modalTitle').textContent = '添加用户';
            document.getElementById('userForm').reset();
            document.getElementById('userModal').style.display = 'block';
        }

        /**
         * 编辑用户
         */
        function editUser(userId) {
            const user = users.find(u => u.id === userId);
            if (!user) return;

            editingUserId = userId;
            document.getElementById('modalTitle').textContent = '编辑用户';
            document.getElementById('userName').value = user.name;
            document.getElementById('userEmail').value = user.email;
            document.getElementById('userPhone').value = user.phone;
            document.getElementById('userDepartment').value = user.department;
            document.getElementById('userRole').value = user.role;
            document.getElementById('userStatus').value = user.status;
            document.getElementById('userPassword').value = '';
            document.getElementById('userPassword').placeholder = '留空则不修改密码';
            document.getElementById('userPassword').required = false;
            document.getElementById('userModal').style.display = 'block';
        }

        /**
         * 关闭用户模态框
         */
        function closeUserModal() {
            document.getElementById('userModal').style.display = 'none';
            document.getElementById('userPassword').required = true;
            document.getElementById('userPassword').placeholder = '';
        }

        /**
         * 保存用户
         */
        function saveUser() {
            const form = document.getElementById('userForm');
            if (!form.checkValidity()) {
                form.reportValidity();
                return;
            }

            const userData = {
                name: document.getElementById('userName').value,
                email: document.getElementById('userEmail').value,
                phone: document.getElementById('userPhone').value,
                department: document.getElementById('userDepartment').value,
                role: document.getElementById('userRole').value,
                status: document.getElementById('userStatus').value
            };

            if (editingUserId) {
                // 编辑用户
                const userIndex = users.findIndex(u => u.id === editingUserId);
                if (userIndex !== -1) {
                    users[userIndex] = { ...users[userIndex], ...userData };
                    alert('用户信息已更新');
                }
            } else {
                // 添加用户
                const newUser = {
                    id: Math.max(...users.map(u => u.id)) + 1,
                    ...userData,
                    lastLogin: '从未登录',
                    registerTime: new Date().toLocaleString('zh-CN'),
                    avatar: `https://via.placeholder.com/40x40/4CAF50/white?text=${userData.name.charAt(0)}`
                };
                users.push(newUser);
                alert('用户已添加');
            }

            closeUserModal();
            searchUsers();
            updateStats();
        }

        /**
         * 删除用户
         */
        function deleteUser(userId) {
            if (confirm('确定要删除这个用户吗？此操作不可恢复。')) {
                users = users.filter(u => u.id !== userId);
                searchUsers();
                updateStats();
                alert('用户已删除');
            }
        }

        /**
         * 重置密码
         */
        function resetPassword(userId) {
            if (confirm('确定要重置该用户的密码吗？新密码将发送到用户邮箱。')) {
                alert('密码重置邮件已发送');
            }
        }

        /**
         * 切换用户选择
         */
        function toggleUserSelection(userId) {
            if (selectedUsers.has(userId)) {
                selectedUsers.delete(userId);
            } else {
                selectedUsers.add(userId);
            }
            updateBatchButtons();
        }

        /**
         * 全选/取消全选
         */
        function toggleSelectAll() {
            const checkboxes = document.querySelectorAll('#usersTableBody input[type="checkbox"]');
            const selectAll = document.getElementById('selectAll').checked;
            
            checkboxes.forEach(checkbox => {
                checkbox.checked = selectAll;
                const userId = parseInt(checkbox.value);
                if (selectAll) {
                    selectedUsers.add(userId);
                } else {
                    selectedUsers.delete(userId);
                }
            });
            
            updateBatchButtons();
        }

        /**
         * 更新批量操作按钮状态
         */
        function updateBatchButtons() {
            const hasSelection = selectedUsers.size > 0;
            document.getElementById('batchActivateBtn').disabled = !hasSelection;
            document.getElementById('batchSuspendBtn').disabled = !hasSelection;
            document.getElementById('batchDeleteBtn').disabled = !hasSelection;
        }

        /**
         * 批量激活
         */
        function batchActivate() {
            if (selectedUsers.size === 0) return;
            
            if (confirm(`确定要激活选中的 ${selectedUsers.size} 个用户吗？`)) {
                selectedUsers.forEach(userId => {
                    const user = users.find(u => u.id === userId);
                    if (user) user.status = 'active';
                });
                selectedUsers.clear();
                searchUsers();
                updateStats();
                alert('用户已批量激活');
            }
        }

        /**
         * 批量停用
         */
        function batchSuspend() {
            if (selectedUsers.size === 0) return;
            
            if (confirm(`确定要停用选中的 ${selectedUsers.size} 个用户吗？`)) {
                selectedUsers.forEach(userId => {
                    const user = users.find(u => u.id === userId);
                    if (user) user.status = 'suspended';
                });
                selectedUsers.clear();
                searchUsers();
                updateStats();
                alert('用户已批量停用');
            }
        }

        /**
         * 批量删除
         */
        function batchDelete() {
            if (selectedUsers.size === 0) return;
            
            if (confirm(`确定要删除选中的 ${selectedUsers.size} 个用户吗？此操作不可恢复。`)) {
                users = users.filter(u => !selectedUsers.has(u.id));
                selectedUsers.clear();
                searchUsers();
                updateStats();
                alert('用户已批量删除');
            }
        }

        /**
         * 导出用户
         */
        function exportUsers() {
            alert('用户数据导出功能开发中...');
        }

        /**
         * 导入用户
         */
        function importUsers() {
            alert('批量导入功能开发中...');
        }

        /**
         * 更新分页信息
         */
        function updatePagination() {
            const totalPages = Math.ceil(filteredUsers.length / pageSize);
            document.getElementById('currentPage').textContent = currentPage;
            document.getElementById('totalPages').textContent = totalPages;
            
            document.getElementById('prevBtn').disabled = currentPage === 1;
            document.getElementById('nextBtn').disabled = currentPage === totalPages;
        }

        /**
         * 上一页
         */
        function previousPage() {
            if (currentPage > 1) {
                currentPage--;
                loadUsers();
            }
        }

        /**
         * 下一页
         */
        function nextPage() {
            const totalPages = Math.ceil(filteredUsers.length / pageSize);
            if (currentPage < totalPages) {
                currentPage++;
                loadUsers();
            }
        }

        /**
         * 改变页面大小
         */
        function changePageSize() {
            pageSize = parseInt(document.getElementById('pageSizeSelect').value);
            currentPage = 1;
            loadUsers();
        }

        /**
         * 退出登录
         */
        function logout() {
            if (confirm('确定要退出登录吗？')) {
                alert('已退出登录');
            }
        }

        // 点击模态框外部关闭
        window.onclick = function(event) {
            const modal = document.getElementById('userModal');
            if (event.target === modal) {
                closeUserModal();
            }
        }
    </script>

    <style>
        /* 用户管理特有样式 */
        .toolbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 20px 0;
            padding: 20px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .toolbar-left {
            display: flex;
            gap: 10px;
        }

        .toolbar-right {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .search-box {
            position: relative;
        }

        .search-box input {
            padding: 8px 35px 8px 12px;
            border: 1px solid #ddd;
            border-radius: 5px;
            width: 250px;
        }

        .search-box i {
            position: absolute;
            right: 12px;
            top: 50%;
            transform: translateY(-50%);
            color: #999;
        }

        .table-container {
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .data-table {
            width: 100%;
            border-collapse: collapse;
        }

        .data-table th,
        .data-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #f0f0f0;
        }

        .data-table th {
            background: #f8f9fa;
            font-weight: 600;
            color: #333;
        }

        .data-table tr:hover {
            background: #f8f9fa;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            object-fit: cover;
        }

        .role-badge,
        .status-badge {
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 500;
        }

        .role-admin { background: #e3f2fd; color: #1976d2; }
        .role-engineer { background: #e8f5e8; color: #4caf50; }
        .role-supervisor { background: #fff3e0; color: #ff9800; }
        .role-worker { background: #f3e5f5; color: #9c27b0; }

        .status-active { background: #e8f5e8; color: #4caf50; }
        .status-inactive { background: #fff3e0; color: #ff9800; }
        .status-suspended { background: #ffebee; color: #f44336; }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .batch-actions {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .batch-actions label {
            margin-left: 5px;
            margin-right: 15px;
        }

        .pagination {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 20px;
            padding: 20px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .page-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
        }

        .modal-content {
            background-color: white;
            margin: 5% auto;
            border-radius: 10px;
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            border-bottom: 1px solid #f0f0f0;
        }

        .modal-header h3 {
            margin: 0;
        }

        .close {
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            color: #999;
        }

        .close:hover {
            color: #333;
        }

        .modal-body {
            padding: 20px;
        }

        .modal-footer {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
            padding: 20px;
            border-top: 1px solid #f0f0f0;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-group label {
            margin-bottom: 5px;
            font-weight: 500;
            color: #333;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 14px;
        }

        .form-group small {
            margin-top: 5px;
            color: #666;
            font-size: 12px;
        }

        @media (max-width: 768px) {
            .toolbar {
                flex-direction: column;
                gap: 15px;
            }

            .toolbar-left,
            .toolbar-right {
                width: 100%;
                justify-content: center;
                flex-wrap: wrap;
            }

            .search-box input {
                width: 200px;
            }

            .data-table {
                font-size: 14px;
            }

            .form-row {
                grid-template-columns: 1fr;
            }

            .pagination {
                flex-direction: column;
                gap: 15px;
            }
        }
    </style>
</body>
</html>